<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        //斐波那契 数列
        //1 1 2 3 5 8 13 21
        //1 1
        //2 1
        //3 第1项 + 第2项
        //4 第2项 + 第3项
        //5 第3项 + 第4项

        //n (n-2)+(n-1)

        var count = 0;
        function fibonacci(n){
        	count ++;
            if(n <= 2){
                return 1;
            }
            return fibonacci(n-1) + fibonacci(n-2);
        }

        console.log(fibonacci(10));
        console.log(count);
        console.log("------用缓存解决性能问题------");
        //定义一个缓存数组，存储已经计算出来的斐波那契数列
        //先从cache数组中获取数字，如果没有获取到，就去计算并把计算结果存入cache
        var count2 = 0;
        function createFib(){
        	var cache = [];
       		function fib(n){
       			count2 ++;
        		if(cache[n] !== undefined){
        			return cache[n];
        		}
        		if(n<=2){
        			cache[n] = 1;
        			return 1;
        		}
        		var temp = fib(n-1)+fib(n-2);
        		cache[n] = temp;
        		return temp;
        	}
        	return fib;
        }
        var fib = createFib();
		console.log(fib(10));
		console.log(count2);
    </script>
</head>
<body>

</body>
</html>