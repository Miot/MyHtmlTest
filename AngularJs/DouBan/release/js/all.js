var DouBan=angular.module("DouBan",["ngRoute","Controllers","Directives"]);DouBan.config(["$routeProvider",function(o){o.when("/today",{templateUrl:"./views/today.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).when("/author",{templateUrl:"./views/author.html",controller:"AuthorController"}).when("/category",{templateUrl:"./views/category.html",controller:"CategoryController"}).when("/favourite",{templateUrl:"./views/favourite.html",controller:"FavouriteController"}).when("/settings",{templateUrl:"./views/settings.html",controller:"SettingsController"}).otherwise({redirectTo:"/today"})}]),DouBan.run(["$rootScope",function(o){o.collapsed=!1,o.toggle=function(){o.collapsed=!o.collapsed;var t=document.querySelectorAll(".navs dd");if(o.collapsed)for(var e=0;e<t.length;e++)t[e].style.transform="translate(0)",t[e].style.transitionDelay="0.2s",t[e].style.transitionDuration=.15*(e+1)+"s";else for(var l=t.length-1,r=l;r>0;r--)t[r].style.transform="translate(-100%)",t[r].style.transitionDelay="",t[r].style.transitionDuration=.15*(l-r)+"s"}}]),angular.module("Controllers",[]).controller("DemoController",["$scope",function(o){}]).controller("NavsController",["$scope",function(o){o.navs=[{link:"#/today",text:"今日一刻",icon:"icon-home"},{link:"#/older",text:"往期内容",icon:"icon-file-empty"},{link:"#/author",text:"热门作者",icon:"icon-pencil"},{link:"#/category",text:"栏目浏览",icon:"icon-menu"},{link:"#/favourite",text:"我的收藏",icon:"icon-heart"},{link:"#/settings",text:"设置",icon:"icon-cog"}]}]).controller("TodayController",["$scope","$http","$rootScope",function(o,t,e){e.title="今日一刻",e.loaded=!1,t({url:"./api/today.php",method:"GET"}).success(function(t){e.loaded=!0,o.posts=t.posts})}]).controller("OlderController",["$scope","$http","$rootScope",function(o,t,e){e.title="往期内容",e.loaded=!1,t({url:"./api/older.php",method:"GET"}).success(function(t){e.loaded=!0,o.posts=t.posts})}]).controller("AuthorController",["$scope","$http","$rootScope",function(o,t,e){e.title="热门作者",e.loaded=!1,t({url:"./api/author.php",method:"GET"}).success(function(t){e.loaded=!0,o.rec=t.rec,o.all=t.all})}]).controller("CategoryController",["$scope","$http","$rootScope",function(o,t,e){e.title="栏目浏览",e.loaded=!1,t({url:"./api/category.php",method:"GET"}).success(function(t){e.loaded=!0,o.columns=t.columns})}]).controller("FavouriteController",["$scope","$rootScope",function(o,t){t.title="我的收藏",t.loaded=!0}]).controller("SettingsController",["$scope","$rootScope",function(o,t){t.title="设置",t.loaded=!0}]),angular.module("Directives",[]).directive("loading",function(){return{restrict:"A",replace:!0,template:'<img src="" alt="" />'}});