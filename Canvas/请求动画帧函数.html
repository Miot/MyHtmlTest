<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style></style>
</head>
<body>
	<div id="test" style="width:1px;height:17px;background:#ccc;">0%</div>
</body>
</html>
<script>
	//请求动画帧函数requestAnimationFrame(callback)
	//与setTimeoout 类似 区别在于 setTimeoout 可以自由控制指定回调的触发时间，而requestAnimationFrame函数回调的触发是由浏览器控制的，浏览器会在下次重绘前执行回调函数

//	兼容性写法
//	 	window.requestAnimFrame = (function(){
// 			return  window.requestAnimationFrame ||
// 					window.webkitRequestAnimationFrame ||
// 					window.mozRequestAnimationFrame    ||
//          function( callback ){
//            window.setTimeout(callback, 1000 / 60);
//        	};
// 		})();

	var div = document.getElementById("test");
	var progress = 0;
 
	function step(timestamp) {
    	progress += 1;
   		div.style.width = progress + "%";
    	div.innerHTML=progress + "%";
    if (progress < 100) {
        requestAnimationFrame(step);
    	}
	};

	requestAnimationFrame(step);
</script>